<section class="container">
  <h2>{{ isEdit() ? 'Modifier Policy' : 'Nouvelle Policy' }}</h2>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <label>Nom *</label>
    <input formControlName="name" />

    <label>Firewall *</label>
    <select formControlName="firewall_id">
      <option [ngValue]="null" disabled>-- choisir --</option>
      @for (fw of firewalls(); track fw.id) {
        <option [ngValue]="fw.id">#{{fw.id}} — {{fw.name}}</option>
      }
    </select>

    <button type="submit" [disabled]="form.invalid">
      {{ isEdit() ? 'Enregistrer' : 'Créer' }}
    </button>
  </form>
</section>
